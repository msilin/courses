

#!/bin/bash

testnum=0
#complexity -t0 -s1 mySourceFile1.c mySourceFile2.c

#~kmammen-grader/bin/styleCheckC file.c

for testInput in *.c; do
   echo Evaluating complexity : $testInput   
   complexity -t0 -s1 $testInput
   
   echo Evaluating style : $testInput   
   ~kmammen-grader/bin/styleCheckC $testInput

done

for testInput in $PWD/test_in/*.in; do
   # Strip off the file extension, i.e., the ".in"
   input=$(basename $testInput)
   name=${input%.in}

    #Run the test
   ./a.out $(<$testInput) > $PWD/test_out/my_$name.out   
   ~kmammen/357/Exercise6/dataTyper $(<$testInput) > $PWD/test_out/his_$name.out

    #diff the results
   echo Test number $testnum
   let "testnum += 1"
   diff $PWD/test_out/my_$name.out $PWD/test_out/his_$name.out
done
